# Test/Development Docker Compose - Exposes ports for local testing
# Usage: docker compose -f docker-compose.yml -f docker-compose.test.yml up -d
#
# This extends docker-compose.yml to expose ports for local testing
# Use this for testing before deploying with reverse proxy

services:
  backend:
    ports:
      - "${BACKEND_PORT:-5000}:5000"  # Expose backend for local testing
    environment:
      - NODE_ENV=development  # Allow all CORS origins in dev mode

  frontend:
    ports:
      - "${FRONTEND_PORT:-80}:80"  # Expose frontend for local testing

  mailpit:
    ports:
      - "${MAILPIT_SMTP_PORT:-1025}:1025"  # SMTP port
      - "${MAILPIT_UI_PORT:-8025}:8025"  # Web UI port
      
  postgres:
    ports:
      - "${POSTGRES_PORT:-5432}:5432"  # Expose postgres for debugging (optional)
